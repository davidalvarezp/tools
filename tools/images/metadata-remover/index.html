<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Remove Image Metadata â€” Local-First Tools</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
    --bg:#0b0b0b;
    --panel:#111;
    --border:#222;
    --text:#e5e5e5;
    --muted:#9ca3af;
    --accent:#22c55e;
}

*{box-sizing:border-box}
body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
}

main{
    max-width:1100px;
    margin:0 auto;
    padding:48px 20px 80px;
}

h1{
    font-size:2rem;
    margin:0 0 8px;
}
.subtitle{
    color:var(--muted);
    max-width:600px;
}

/* Tool */
.tool{
    margin-top:40px;
    background:var(--panel);
    border:1px solid var(--border);
    border-radius:16px;
    padding:28px;
}

/* Drop area */
.drop-area{
    border:2px dashed var(--border);
    border-radius:14px;
    padding:48px 20px;
    text-align:center;
    cursor:pointer;
    color:var(--muted);
    transition:.2s;
}
.drop-area.hover{
    border-color:var(--accent);
    background:#0f1a13;
    color:#d1fae5;
}

/* Toolbar */
.toolbar{
    margin-top:24px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
    gap:12px;
}
.counter{
    font-size:.9rem;
    color:var(--muted);
}
.actions button{
    background:#1f2937;
    border:1px solid var(--border);
    color:var(--text);
    padding:8px 14px;
    border-radius:8px;
    cursor:pointer;
    font-size:.85rem;
}
.actions button:hover{opacity:.9}

/* Grid */
.grid{
    margin-top:28px;
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
    gap:20px;
}

/* Card */
.card{
    border:1px solid var(--border);
    border-radius:12px;
    padding:12px;
    background:#0e0e0e;
    text-align:center;
}
.card img{
    width:100%;
    border-radius:8px;
    margin-bottom:10px;
}
.card button{
    width:100%;
    background:var(--accent);
    border:none;
    border-radius:8px;
    padding:8px;
    cursor:pointer;
    font-size:.85rem;
    font-weight:600;
    color:#052e16;
}
.card button:hover{opacity:.9}

.note{
    margin-top:24px;
    font-size:.85rem;
    color:var(--muted);
}
</style>
</head>

<body>
<main>
    <h1>Remove Image Metadata</h1>
    <p class="subtitle">
        Remove EXIF metadata from images directly in your browser.
        No uploads. No tracking. 100% local.
    </p>

    <section class="tool">
        <div id="dropArea" class="drop-area">
            Drag & drop images here<br>
            or click to select files
        </div>

        <input type="file" id="fileInput" accept="image/*" multiple hidden>

        <div class="toolbar">
            <div id="counter" class="counter">No images processed</div>
            <div class="actions">
                <button id="clearBtn">Clear</button>
            </div>
        </div>

        <div id="grid" class="grid"></div>

        <p class="note">
            Metadata is removed by re-encoding the image via canvas.
            Your files never leave your device.
        </p>
    </section>
</main>

<script>
const dropArea = document.getElementById('dropArea');
const fileInput = document.getElementById('fileInput');
const grid = document.getElementById('grid');
const counter = document.getElementById('counter');
const clearBtn = document.getElementById('clearBtn');

let total = 0;

dropArea.onclick = () => fileInput.click();

dropArea.ondragover = e => {
    e.preventDefault();
    dropArea.classList.add('hover');
};
dropArea.ondragleave = () => dropArea.classList.remove('hover');
dropArea.ondrop = e => {
    e.preventDefault();
    dropArea.classList.remove('hover');
    handleFiles(e.dataTransfer.files);
};

fileInput.onchange = () => handleFiles(fileInput.files);

clearBtn.onclick = () => {
    grid.innerHTML = '';
    total = 0;
    updateCounter();
};

function updateCounter(){
    counter.textContent =
        total === 0 ? 'No images processed' : `${total} image${total>1?'s':''} cleaned`;
}

function handleFiles(files){
    [...files].forEach(file=>{
        if(!file.type.startsWith('image/')) return;

        const reader = new FileReader();
        reader.onload = e=>{
            const img = new Image();
            img.onload = ()=>{
                const canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;
                canvas.getContext('2d').drawImage(img,0,0);

                canvas.toBlob(blob=>{
                    const url = URL.createObjectURL(blob);

                    const card = document.createElement('div');
                    card.className = 'card';

                    const image = document.createElement('img');
                    image.src = url;

                    const btn = document.createElement('button');
                    btn.textContent = 'Download clean image';
                    btn.onclick = ()=>{
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `clean_${file.name}`;
                        a.click();
                    };

                    card.append(image,btn);
                    grid.appendChild(card);

                    total++;
                    updateCounter();
                },'image/png');
            };
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
    });
}
</script>
</body>
</html>
